<!doctype html>
<html lang="es" class="antialiased">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AgroTech Solutions ‚Äî Dashboard (Entrega ADS SENA)</title>

  <!-- Tailwind Play CDN (para desarrollo/entrega educativa).
       No es recomendado para producci√≥n; para producci√≥n se usa compilaci√≥n. -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Mermaid para diagramas (si el profesor quiere ver los diagramas renderizados) -->
  <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
  <script>mermaid.initialize({ startOnLoad:true });</script>

  <!-- Favicon: SVG simple embebido como data URL -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='18' fill='%231F7A4C'/><path d='M30 60 L45 40 L60 60' stroke='white' stroke-width='6' fill='none' stroke-linecap='round' stroke-linejoin='round'/></svg>">

  <meta name="description" content="Entrega del proyecto AgroTech Solutions - Dashboard IoT simulado.">

  <!-- CSS local -->
  <link rel="stylesheet" href="style.css">
</head>
<body class="bg-gradient-to-br from-indigo-100 via-purple-50 to-blue-100 text-gray-900 font-serif leading-relaxed">

  <!-- Modal de autenticaci√≥n -->
    <!-- RF1: Registro y autenticaci√≥n de usuarios -->
  <div id="auth-modal" class="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-xl shadow-lg p-8 w-full max-w-md relative">
      <button id="auth-close" class="absolute top-2 right-2 text-indigo-700 font-bold">‚úï</button>
      <h2 class="text-xl font-bold mb-4 text-indigo-700">Acceso de usuarios</h2>
      <div class="mb-6">
        <form id="login-form" class="space-y-3">
          <h3 class="text-lg font-semibold text-indigo-600">Iniciar sesi√≥n</h3>
          <input id="login-email" type="email" placeholder="Correo" class="w-full px-3 py-2 border rounded" required>
          <input id="login-pass" type="password" placeholder="Contrase√±a" class="w-full px-3 py-2 border rounded" required>
          <button type="submit" class="w-full bg-indigo-700 text-white py-2 rounded font-bold">Entrar</button>
          <button type="button" id="btn-fill-demo" class="w-full mt-2 bg-indigo-100 text-indigo-700 py-1 rounded">Demo r√°pido</button>
        </form>
      </div>
      <div>
        <form id="register-form" class="space-y-3">
          <h3 class="text-lg font-semibold text-indigo-600">Registro</h3>
          <input id="reg-name" type="text" placeholder="Nombre" class="w-full px-3 py-2 border rounded" required>
          <input id="reg-email" type="email" placeholder="Correo" class="w-full px-3 py-2 border rounded" required>
          <input id="reg-pass" type="password" placeholder="Contrase√±a" class="w-full px-3 py-2 border rounded" required>
          <input id="reg-farm" type="text" placeholder="Finca" class="w-full px-3 py-2 border rounded" required>
            <!-- RF6: Multiusuario, selecci√≥n de rol -->
          <select id="reg-role" class="w-full px-3 py-2 border rounded">
            <option value="productor">Productor</option>
            <option value="tecnico">T√©cnico</option>
            <option value="admin">Administrador</option>
          </select>
          <button type="submit" class="w-full bg-green-700 text-white py-2 rounded font-bold">Registrar</button>
        </form>
      </div>
    </div>
  </div>
  <!-- ENCABEZADO -->
  <header class="bg-gradient-to-r from-blue-700 via-indigo-600 to-purple-700 shadow-lg sticky top-0 z-20">
    <div class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">
      <div class="flex items-center gap-4">
        <!-- Logo circular con icono -->
        <div class="w-12 h-12 rounded-full bg-white flex items-center justify-center text-indigo-700 text-2xl font-extrabold shadow">üå±</div>
        <h1 class="text-2xl font-bold text-white tracking-wide">AgroTech Dashboard <span class="text-base text-indigo-200">‚Äî Demo SENA</span></h1>
      </div>
      <div class="flex items-center gap-4">
        <label for="role" class="text-base text-indigo-100">Rol:</label>
        <select id="role" class="focus-ring px-3 py-1 border-2 border-indigo-300 rounded bg-white text-indigo-700 font-semibold" aria-label="Selector de rol">
          <option value="productor">Productor</option>
          <option value="tecnico">T√©cnico</option>
          <option value="admin" selected>Administrador</option>
        </select>
        <div id="current-user-area" class="flex items-center gap-2 ml-2 text-base">
          <span id="current-user-display" class="text-indigo-100">(Sin sesi√≥n)</span>
          <button id="btn-open-auth" class="text-xs px-3 py-1 border-2 border-indigo-300 rounded bg-white text-indigo-700 font-semibold">Acceder</button>
          <button id="btn-logout" class="hidden text-xs px-3 py-1 border-2 border-indigo-300 rounded bg-white text-indigo-700 font-semibold">Salir</button>
        </div>
      </div>
    </div>
  </header>

  <!-- CONTENEDOR PRINCIPAL -->
  <main class="max-w-6xl mx-auto px-4 py-8 grid grid-cols-1 lg:grid-cols-4 gap-8">
  <!-- RF2: Administraci√≥n de sensores IoT -->

    <!-- COLUMNA IZQUIERDA: NAV / SPRINTS -->
  <aside class="lg:col-span-1 bg-gradient-to-br from-indigo-50 via-blue-50 to-purple-100 p-6 rounded-xl shadow-md border border-indigo-100">
  <h2 class="font-bold text-xl mb-4 text-indigo-700">Men√∫ r√°pido</h2>
      <nav class="space-y-3 text-base">
        <a class="block px-4 py-2 rounded-lg bg-indigo-100 hover:bg-indigo-200 text-indigo-700 font-semibold transition" href="#inicio">Inicio</a>
        <a class="block px-4 py-2 rounded-lg bg-indigo-100 hover:bg-indigo-200 text-indigo-700 font-semibold transition" href="#dashboard">Panel principal</a>
        <a class="block px-4 py-2 rounded-lg bg-indigo-100 hover:bg-indigo-200 text-indigo-700 font-semibold transition" href="#sensores">Sensores</a>
        <a class="block px-4 py-2 rounded-lg bg-indigo-100 hover:bg-indigo-200 text-indigo-700 font-semibold transition" href="#alertas">Alertas</a>
        <a class="block px-4 py-2 rounded-lg bg-indigo-100 hover:bg-indigo-200 text-indigo-700 font-semibold transition" href="#reportes">Reportes</a>
        <a class="block px-4 py-2 rounded-lg bg-indigo-100 hover:bg-indigo-200 text-indigo-700 font-semibold transition" href="#insumos">Insumos</a>
      </nav>
    </aside>

    <!-- COLUMNA CENTRAL: CONTENIDO -->
  <section id="inicio" class="lg:col-span-3 space-y-8">

      <!-- Secci√≥n de explicaci√≥n del proyecto (todo el texto explicativo incluido) -->
  <article class="bg-gradient-to-br from-white via-indigo-50 to-blue-50 p-8 rounded-xl shadow-md border border-indigo-100">
  <h2 class="text-3xl font-extrabold mb-4 text-indigo-700">¬°Bienvenido al panel AgroTech!</h2>
        <p class="text-base text-indigo-900 mb-6">
          Este panel te permite simular el monitoreo agr√≠cola con sensores, alertas, reportes y gesti√≥n de insumos. ¬°Explora las funciones y prueba los formularios!
        </p>

        <!-- DASHBOARD SIMULADO (RF3) -->
        <div id="dashboard" class="space-y-6">
          <!-- RF3: Visualizaci√≥n de datos en tiempo real -->
          <h3 class="text-2xl font-bold text-indigo-700">Panel de m√©tricas</h3>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
            <div class="p-6 bg-indigo-100 rounded-xl shadow flex flex-col items-center">
              <span class="text-4xl">üíß</span>
              <h4 class="text-base text-indigo-700 font-bold mt-2">Humedad</h4>
              <input id="input-humedad" type="number" min="0" max="100" class="w-20 p-1 border rounded text-center mt-2" placeholder="%" />
              <div id="humedad-value" class="text-3xl font-extrabold text-blue-700 mt-2">-- %</div>
            </div>
            <div class="p-6 bg-indigo-100 rounded-xl shadow flex flex-col items-center">
              <span class="text-4xl">üå°Ô∏è</span>
              <h4 class="text-base text-indigo-700 font-bold mt-2">Temperatura</h4>
              <input id="input-temp" type="number" min="-10" max="50" class="w-20 p-1 border rounded text-center mt-2" placeholder="¬∞C" />
              <div id="temp-value" class="text-3xl font-extrabold text-pink-700 mt-2">-- ¬∞C</div>
            </div>
            <div class="p-6 bg-indigo-100 rounded-xl shadow flex flex-col items-center">
              <span class="text-4xl">üß™</span>
              <h4 class="text-base text-indigo-700 font-bold mt-2">pH</h4>
              <input id="input-ph" type="number" step="0.1" min="0" max="14" class="w-20 p-1 border rounded text-center mt-2" placeholder="pH" />
              <div id="ph-value" class="text-3xl font-extrabold text-purple-700 mt-2">--</div>
            </div>
          </div>
          <div class="mb-6 flex gap-4">
            <button id="btn-actualizar-panel" class="bg-emerald-600 text-white px-4 py-2 rounded shadow">Actualizar panel</button>
          </div>
            <p class="text-xs text-indigo-400 mt-3">Actualizaci√≥n autom√°tica cada 6 segundos (simulaci√≥n).</p>
          </div>
        </div>

        <!-- SENSORES (RF2) -->
        <div id="sensores" class="mt-6">
  <!-- RF2: Administraci√≥n de sensores IoT -->
          <form id="sensor-form" class="grid grid-cols-1 md:grid-cols-3 gap-2 items-end">
            <div>
              <label class="text-xs text-gray-600">ID sensor</label>
              <input id="sensor-id" class="w-full p-2 border rounded focus-ring" required aria-label="ID sensor"/>
            </div>
            <div>
              <label class="text-xs text-gray-600">Tipo</label>
              <select id="sensor-type" class="w-full p-2 border rounded focus-ring">
                <option value="humedad">Humedad</option>
                <option value="temperatura">Temperatura</option>
                <option value="ph">pH</option>
              </select>
            </div>
            <div>
              <button class="w-full bg-emerald-600 text-white p-2 rounded" id="sensor-save">Agregar / Actualizar</button>
            </div>
          </form>

          <div class="mt-4">
            <h4 class="text-sm text-gray-600">Lista de sensores registrados</h4>
            <ul id="sensor-list" class="mt-2 space-y-2 text-sm"></ul>
          </div>
        </div>

        <!-- ALERTAS (RF4) -->
        <div id="alertas" class="mt-6">
          <p class="text-sm text-gray-600">Configura un umbral de pH y prueba la simulaci√≥n de env√≠o por email/SMS (simulado).</p>

          <div class="mt-2 grid grid-cols-1 md:grid-cols-3 gap-2 items-center">
            <div>
              <label class="text-xs text-gray-600">Umbral pH</label>
              <input id="umbral-ph" type="number" step="0.1" value="6.5" class="w-full p-2 border rounded focus-ring" />
            </div>
            <div>
              <label class="text-xs text-gray-600">Email (simulado)</label>
              <input id="alert-email" type="email" value="productor@ejemplo.com" class="w-full p-2 border rounded focus-ring" />
            </div>
            <div>
              <button id="check-alert" class="w-full bg-red-600 text-white p-2 rounded">Simular comprobaci√≥n</button>
            </div>
          </div>

          <div class="mt-3">
            <h4 class="text-sm text-gray-600">Historial de alertas (simulado)</h4>
            <ul id="alert-history" class="mt-2 text-xs space-y-1"></ul>
          </div>

          <div id="toast-area" class="fixed top-6 right-6 z-50"></div>
        </div>

        <!-- REPORTES (RF5) -->
        <div id="reportes" class="mt-6">
            <p class="text-sm text-gray-600">Seleccione un rango de fechas y genere un PDF/Excel simulado (la generaci√≥n usa Blob y descarga local).</p>

          <div class="mt-2 grid grid-cols-1 md:grid-cols-3 gap-2">
            <input id="fecha-desde" type="date" class="p-2 border rounded focus-ring" />
            <input id="fecha-hasta" type="date" class="p-2 border rounded focus-ring" />
            <div class="flex gap-2">
              <button id="gen-pdf" class="bg-sky-600 text-white p-2 rounded">Generar PDF (simulado)</button>
              <button id="gen-xlsx" class="bg-emerald-600 text-white p-2 rounded">Generar Excel (simulado)</button>
            </div>
          </div>
        </div>
        <!-- INSUMOS (RF5 - gesti√≥n insumos) -->
        <div id="insumos" class="mt-6">
          <form id="supply-form" class="grid grid-cols-1 md:grid-cols-3 gap-2 items-end">
            <div>
              <label class="text-xs text-gray-600">Nombre insumo</label>
              <input id="supply-name" class="w-full p-2 border rounded focus-ring" required aria-label="Nombre insumo"/>
            </div>
            <div>
              <label class="text-xs text-gray-600">Cantidad</label>
              <input id="supply-qty" type="number" min="0" class="w-full p-2 border rounded focus-ring" />
            </div>
            <div>
              <button class="w-full bg-amber-600 text-white p-2 rounded" id="supply-save">Agregar / Actualizar</button>
            </div>
          </form>

          <div class="mt-4">
            <h4 class="text-sm text-gray-600">Lista de insumos</h4>
            <ul id="supply-list" class="mt-2 text-sm space-y-1"></ul>
          </div>
        </div>

  </main>

  <!-- PIE DE P√ÅGINA -->
  <footer class="bg-gradient-to-r from-indigo-700 via-blue-700 to-purple-700 mt-12 py-6">
    <div class="max-w-6xl mx-auto px-4 text-base text-indigo-100 text-center">
      Anderson Topaga
    </div>
  </footer>

  <!-- MODAL AUTH -->
  <div id="auth-modal" class="fixed inset-0 bg-black/40 hidden items-center justify-center z-40">
    <div class="bg-white rounded p-4 w-full max-w-xl">
      <div class="flex justify-between items-center mb-3">
        <h3 class="font-semibold">Login / Registro (simulaci√≥n)</h3>
        <button id="auth-close" class="text-sm px-2 py-1">Cerrar</button>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">


        <!-- REGISTER -->
        <div>
          <h4 class="font-medium">Registrar nuevo usuario</h4>
          <form id="register-form" class="space-y-2">
            <input id="reg-name" placeholder="Nombre" class="w-full p-2 border rounded focus-ring" required />
            <input id="reg-email" placeholder="Email" type="email" class="w-full p-2 border rounded focus-ring" required />
            <input id="reg-pass" placeholder="Contrase√±a" type="password" class="w-full p-2 border rounded focus-ring" required />
            <input id="reg-farm" placeholder="Nombre finca / parcela" class="w-full p-2 border rounded focus-ring" />
            <label class="text-xs">Rol</label>
            <select id="reg-role" class="w-full p-2 border rounded focus-ring">
              <option value="productor">Productor</option>
              <option value="tecnico">T√©cnico</option>
              <option value="admin">Administrador</option>
            </select>
            <div class="flex gap-2">
              <button class="bg-amber-600 text-white px-3 py-2 rounded" type="submit">Registrar</button>
            </div>
            <p class="text-xs text-gray-500">Se guardar√° en localStorage para la demo.</p>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- SCRIPTS -->
  <script src="main.js" defer></script>
</body>
</html>s